
<form class="{{cssClass}}">
  <header class="sheet-header">
    <div class="header-row">
      <div class="col1">
        <div class="game-title">DEATH IN SPACE</div>
        <div class="sheet-title">HUB DATA SHEET</div>
      </div>
      <div class="col2">
        <div>
           SECTION 0. OWNER INFORMATION </div>
        <div class="owner-sig">
          <input class="owner-name" name="data.ownerName" type="text" value="{{data.data.ownerName}}" placeholder="{{ localize 'DIS.OwnerName' }}" spellcheck="false"/>
        </div>
      </div>
    </div>
  </header>
  <nav class="sheet-tabs tabs" data-group="primary"><a class="item" data-tab="specifics">1. {{ localize 'DIS.TabSpecifics' }}</a><a class="item" data-tab="hub-data">2. {{ localize 'DIS.TabHubData' }}</a><a class="item" data-tab="layout">3. {{ localize 'DIS.TabLayout' }}</a><a class="item" data-tab="notes">4. {{ localize 'DIS.TabCargoAndNotes' }}</a></nav>
  <section class="sheet-body"> 
    <div class="tab specifics-tab" data-group="primary" data-tab="specifics">
      <div class="specifics-wrapper">
        <div class="nickname-block">
          <div class="stat-block">
            <label>Name</label>
            <input type="text" name="name" value="{{actor.name}}" placeholder="Name" spellcheck="false"/>
          </div>
        </div>
        <div class="hub-type-block">
          <div class="stat-block">
            <label>Hub type and frame</label>
            <input type="text" name="data.hubType" value="{{data.data.hubType}}" placeholder="" spellcheck="false"/>
          </div>
        </div>
        <div class="background-block">
          <div class="stat-block">
            <label>Background</label>
            <textarea name="data.background" rows="4">{{data.data.background}}</textarea>
          </div>
        </div>
        <div class="appearance-block">
          <div class="stat-block">
            <label>Appearance</label>
            <textarea name="data.appearance" rows="4">{{data.data.appearance}}</textarea>
          </div>
        </div>
        <div class="quirks-block">
          <div class="stat-block">
            <label>Quirks</label>
            <textarea name="data.quirks" rows="3">{{data.data.quirks}}</textarea>
          </div>
        </div>
      </div>
    </div>
    <div class="tab hub-data-tab" data-group="primary" data-tab="hub-data">
      <div class="hub-data-wrapper">
        <div class="frame-integrity-row">
          <div class="frame-integrity">FRAME INTEGRITY</div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=0 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 0}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">0%</div>
            </label>
          </div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=10 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 10}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">10%</div>
            </label>
          </div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=20 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 20}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">20%</div>
            </label>
          </div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=30 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 30}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">30%</div>
            </label>
          </div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=40 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 40}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">40%</div>
            </label>
          </div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=50 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 50}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">50%</div>
            </label>
          </div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=60 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 60}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">60%</div>
            </label>
          </div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=70 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 70}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">70%</div>
            </label>
          </div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=80 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 80}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">80%</div>
            </label>
          </div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=90 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 90}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">90%</div>
            </label>
          </div>
          <div class="integrity-increment">
            <label>
              <div class="integrity-radio"><input type="radio" name="data.frameIntegrity.value" value=100 data-dtype="Number" {{#ifEq data.data.frameIntegrity.value 100}}checked{{/ifEq}}/></div>
              <div class="integrity-percent">100%</div>
            </label>
          </div>
          <div class="defense-rating">
            <div class="title-row">
               DEFENSE RATING</div>
            <div class="input-row">
              <input class="defense-rating" name="data.defenseRating" type="number" value="{{data.data.defenseRating}}" data-dtype="Number"/>
            </div>
          </div>
        </div>
        <div class="roll-on-damage-row"> 
          <div class="col1"></div>
          <div class="col2"></div>
          <div class="col3"></div>
          <div class="col4">ROLL ON<br/>DAMAGE TABLE</div>
          <div class="col5"></div>
          <div class="col6">WHEN ALL IS CALM THE HUB<br/>REGAINS 1d4*10% INTEGRITY</div>
        </div>
        <div class="condition-row"> 
          <div class="condition">
            <div class="label-row">
              <div class="col1">CONDITION</div>
              <div class="col2">
                 CURRENT</div>
              <div class="col3">MAX</div>
            </div>
            <div class="field-row">
              <div class="col1">
                  </div>
              <div class="col2">
                <input class="condition-current" name="data.condition.value" type="number" value="{{data.data.condition.value}}" data-dtype="Number"/>
              </div>
              <div class="col3">
                <input class="condition-max" name="data.condition.max" type="number" value="{{data.data.condition.max}}" data-dtype="Number"/>
              </div>
            </div>
          </div>
          <div class="fuel"> 
            <div class="label-row">
              <div class="col1">FUEL</div>
              <div class="col2">
                 CURRENT</div>
              <div class="col3">MAX</div>
            </div>
            <div class="field-row">
              <div class="col1">
                  </div>
              <div class="col2">
                <input class="fuel-current" name="data.fuel.value" type="number" value="{{data.data.fuel.value}}" data-dtype="Number"/>
              </div>
              <div class="col3">
                <input class="fuel-max" name="data.fuel.max" type="number" value="{{data.data.fuel.max}}" data-dtype="Number"/>
              </div>
            </div>
          </div>
          <div class="power-source"> 
            <div class="source-label">POWER SOURCE</div>{{#if data.data.powerSystem}}
            <div class="source-row item" data-item-id="{{data.data.powerSystem._id}}">
              <div class="source-name">
                {{data.data.powerSystem.name}} 
                {{#if data.data.powerSystem.data.speed}}
                ({{data.data.powerSystem.data.speed}})
                {{/if}}
              </div>
              <div class="item-controls"> <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a><a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash">               </i></a></div>
            </div>{{/if}}
          </div>
          <div class="output-power">
            <div class="title-row">OUTPUT POWER</div>
            <div class="input-row">
              <input class="output-power power" name="data.powerSystem.data.outputPower" type="number" value="{{data.data.powerSystem.data.outputPower}}" data-dtype="Number" readonly="readonly"/>
            </div>
          </div>
        </div>
        <div class="modules-block">
          <div class="title-row">
            <div class="col1">MODULES</div>
            <div class="col2"><a class="item-control item-create" title="{{localize 'DIS.ItemCreate'}}" data-type="hubModule"><i class="fas fa-plus"></i>{{localize "DIS.Add"}}</a></div>
            <div class="col3">POWER COST</div>
          </div>
          <div class="modules-list">
             {{#each data.data.hubModules as |item id|}}
            <div class="item module-item" data-item-id="{{item._id}}">
              <div class="col1">{{add @index 1}}. {{item.name}}</div>
              <div class="col2"><a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a><a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a></div>
              <div class="col3"> 
                <input class="hub-module-power-cost power" name="item.powerCost" type="number" value="{{item.data.powerCost}}" data-dtype="Number" readonly="readonly"/>
              </div>
            </div>{{/each}}
          </div>
          <div class="modules-total"> 
            <div class="col1">The power cost sum should not exceed the output power.<br/>Power cost > power output = overheated.</div>
            <div class="col2"></div>
            <div class="col3"> 
              <input class="total-power-cost power" name="data.totalPowerCost" type="number" value="{{data.data.totalPowerCost}}" data-dtype="Number" readonly="readonly"/>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="tab layout-tab" data-group="primary" data-tab="layout">
      <div class="layout-wrapper">
        <div class="portrait"><img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}"/></div>
      </div>
    </div>
    <div class="tab notes-tab" data-group="primary" data-tab="notes">
      <div class="notes-wrapper">{{editor content=data.data.notes target="data.notes" button=true owner=owner editable="true"}}</div>
    </div>
  </section>
</form>